<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ad form</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <meta name="description" content="description here">
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="Lam Nguyen">
    <meta name="copyright" content="2018 Lam Nguyen">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta property="og:url" content="">
    <meta property="og:title" content="">
    <meta property="og:image" content="">
    <link rel="icon" type="image/ico" href="images/favicon.ico">
    <!--link(href="css/animate.min.css" rel="stylesheet" type="text/css")-->
    <link href="css/layout.css" rel="stylesheet" type="text/css">
    <style></style>
  </head>
  <body>
    <div class="layer-loading is-active">
      <div class="lds-ring">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <div class="page-content has-cover-fixed">
      <div class="bl-cover"><span class="img-cover" style="background-image:url(images/upload/cover_default.png)"></span></div>
      <div class="body">
        <div class="group-form">
          <div class="bl-info-oa">
            <div class="avatar avatar--s">
              <div class="avatar-img" style="background-image:url(https://via.placeholder.com/72)"></div>
            </div>
            <h1>Brand Official Account</h1>
          </div>
          <div class="bl-form">
            <h2 class="title has-text-centered">Đăng ký thông tin để nhận báo giá sản phẩm từ Brand</h2>
            <div class="subtitle has-text-centered">
              <div class="js-read-more" data-rm-words="42"><span>Tựa khu vườn bí mật đang chờ bạn khám phá, The Antonia là lựa chọn sáng giá cho phong cách sống “Elite Recreation”.<br />Không gian sảnh rộng thoáng gần bằng 2 tầng thông thường, được trang bị hệ thống kính chạm trần tựa resort 5 sao của những kì nghỉ lý tưởng. Những sắc độ tự nhiên như màu nâu ấm của gỗ, gạch, đá và tone xanh của cảnh quan, cây cỏ càng tôn lên sự gần gũi cần có của một chốn bình yên trở về.<br />Tách khỏi xô bồ phố thị và đắm chìm trong chuỗi tiện ích giải trí – nghỉ dưỡng đẳng cấp, mỗi ngày tại The Antonia sẽ là những chuyến phiêu lưu kì thú – nơi nuôi dưỡng và tái tạo năng lượng bất tận</span></div>
            </div>
            <div class="context-zaloid">
              <p class="is-heading">Nhận tư vấn sản phẩm dịch vụ qua cuộc gọi thoại Zalo</p>
              <div class="m-request">
                <div class="avatar avatar--s">
                  <div class="avatar-img" style="background-image:url(https://via.placeholder.com/72)"></div>
                </div>
                <div class="ico-zaloid"><i class="ico-call"></i><span>Zalo</span></div>
                <div class="avatar avatar--s">
                  <div class="avatar-img" style="background-image:url(https://via.placeholder.com/72)"></div>
                </div>
              </div>
            </div>
            <p class="is-question"><a class="func-tooltip func-tooltip-2" href="javascript:void(0);">Dịch vụ này hoạt động thế nào?</a></p><a class="button is-primary is-large is-fullwidth" href="zaloid_field.html">Đồng ý</a>
            <p class="copyright">Powered by Zalo Form</p>
          </div>
        </div>
      </div>
    </div>
    <div class="bl-tooltip">
      <div class="tooltip-container" id="tooltip-1">
        <div class="bl-tooltip-heading"><span>Giới thiệu về Thông tin điền trước</span><a class="func-close-tooltip" href="javascript:void(0)"><i class="icz icz-close"></i></a></div>
        <div class="bl-tooltip-context">
          <p>Thông tin được điền trước trong mẫu giúp bạn dễ dàng kết nối hơn với nhà quảng cáo, có thể lấy từ:</p>
          <ul>
            <li>Thông tin tài khoản Zalo của bạn.</li>
            <li>Mẫu đã hoàn tất trước đó của bạn.</li>
          </ul>
          <p>Nhà quảng cáo chỉ biết thông tin liên hệ của bạn sau khi bạn hoàn tất việc gửi mẫu.</p>
        </div>
      </div>
      <div class="tooltip-container" id="tooltip-2">
        <div class="bl-tooltip-heading"><span>Về dịch vụ này</span><a class="func-close-tooltip" href="javascript:void(0)"><i class="icz icz-close"></i></a></div>
        <div class="bl-tooltip-context">
          <p>Nhà quảng cáo có thể liên hệ với bạn thông qua cuộc gọi thoại trên Zalo. Điều này chỉ diễn ra nếu bạn cho phép bằng việc nhấn nút Đồng ý.</p>
          <p>Diễn giải thêm về policy tại đây. Lợi thế so với phone là không bị leak số phone</p>
          <p>Xem thêm <a href="#!" target="_blank">quy định về quảng cáo</a> của Zalo Form</p>
        </div>
      </div>
      <div class="tooltip-container" id="tooltip-close">
        <div class="bl-tooltip-heading"><span>Bạn muốn rời Zalo Form?</span><a class="func-close-tooltip" href="javascript:void(0)"><i class="icz icz-close"></i></a></div>
        <div class="bl-tooltip-context">
          <p class="mb-3">Các thông tin đã điền sẽ bị xoá nếu bạn rời Zalo Form mà chưa Gửi thông tin.</p><a class="button is-primary is-light is-large is-fullwidth mb-2" href="#!">Rời Zalo Form</a><a class="button is-primary is-outlined is-large is-fullwidth" href="#!">Ở lại Zalo Form</a>
        </div>
      </div>
    </div>
    <div class="bl-modal">
    </div>
    <div class="bl-popup">
      <div class="popup-container" id="popup-location">
        <div class="bl-popup-heading"><span>Chọn Tỉnh/ Thành phố</span><a class="func-close-popup is-right" href="javascript:void(0)"><i class="icz icz-close"></i></a></div>
        <div class="bl-popup-search">
          <div class="field mb-0">
            <div class="control has-icons-left">
              <input class="input" type="text" placeholder="Tìm nhanh"><span class="icon is-left"><i class="icz icz-search"></i></span>
            </div>
          </div>
        </div>
        <div class="bl-popup-context">
          <div class="context-scroll">
            <ul class="group-add-list">
              <li> <a href="javascript:void(0)">An Giang</a></li>
              <li><a href="javascript:void(0)">Bà Rịa-Vũng Tàu</a></li>
              <li><a href="javascript:void(0)">Bắc Kạn</a></li>
              <li><a href="javascript:void(0)">Bắc Giang</a></li>
              <li><a href="javascript:void(0)">Bắc Ninh</a></li>
              <li><a href="javascript:void(0)">Bến Tre</a></li>
              <li><a href="javascript:void(0)">Bình Dương</a></li>
              <li><a href="javascript:void(0)">Bình Định</a></li>
              <li><a href="javascript:void(0)">Bình Phước</a></li>
              <li><a href="javascript:void(0)">Bình Thuận</a></li>
              <li><a href="javascript:void(0)">Cà Mau</a></li>
              <li><a href="javascript:void(0)">Cao Bằng</a></li>
              <li><a href="javascript:void(0)">Cần Thơ</a></li>
              <li><a href="javascript:void(0)">Đà Nẵng</a></li>
              <li><a href="javascript:void(0)">Đắk Lắk</a></li>
              <li><a href="javascript:void(0)">Đắk Nông</a></li>
              <li><a href="javascript:void(0)">Điện Biên</a></li>
              <li><a href="javascript:void(0)">Đồng Nai</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- Include Plugin-->
    <script src="js/jquery.min.js"></script>
    <script src="js/picker.js"></script>
    <script>
      $(".func-tooltip-2").click(function(){
      	$("body").addClass("overlay-tooltip");
      	$("#tooltip-2").addClass("is-show");
      });
      $(".func-close-tooltip").click(function(){
      	$("body").removeClass("overlay-tooltip");
      	$(".tooltip-container").removeClass("is-show");
      });
      
      //- tắt loading[test]
      setTimeout(function(){$('.layer-loading').removeClass("is-active")},3000)
      
      /* Read More JS */
      const ReadMore = (() => {
      let s;
      
      return {
      	settings() {
      	return {
      		content: document.querySelectorAll('.js-read-more'),
      		originalContentArr: [],
      		truncatedContentArr: [],
      		moreLink: "Xem thêm",
      		lessLink: "Thu gọn",
      	}
      	},
      
      	init() {
      	s = this.settings();
      	this.bindEvents();
      	},
      
      	bindEvents() {
      	ReadMore.truncateText();
      	},
      
      	/**
      	* Count Words
      	* Helper to handle word count.
      	* @param {string} str - Target content string.
      	*/
      	countWords(str) {
      	return str.split(/\s+/).length;
      	},
      
      	/**
      	* Ellpise Content
      	* @param {string} str - content string.
      	* @param {number} wordsNum - Number of words to show before truncation.
      	*/
      	ellipseContent(str, wordsNum) {
      	return str.split(/\s+/).slice(0, wordsNum).join(' ') + '...';
      	},
      
      	truncateText() {
      
      	for (let i = 0; i < s.content.length; i++) {
      		//console.log(s.content)
      		const originalContent = s.content[i].innerHTML;
      		const numberOfWords = s.content[i].dataset.rmWords;
      		const truncateContent = ReadMore.ellipseContent(originalContent, numberOfWords);
      		const originalContentWords = ReadMore.countWords(originalContent);
      
      		s.originalContentArr.push(originalContent);
      		s.truncatedContentArr.push(truncateContent);
      
      		if (numberOfWords < originalContentWords) {
      		s.content[i].innerHTML = s.truncatedContentArr[i];
      		let self = i;
      		ReadMore.createLink(self)
      		}
      	}
      	ReadMore.handleClick(s.content);
      	},
      
      	/**
      	* Create Link
      	* Creates and Inserts Read More Link
      	* @param {number} index - index reference of looped item
      	*/
      	createLink(index) {
      	const linkWrap = document.createElement('span');
      
      	linkWrap.className = 'read-more-link-wrap';
      
      	linkWrap.innerHTML = `<a id="read-more_${index}"
      								class="read-more-link"
      								style="cursor:pointer;">
      								${s.moreLink}
      							</a>`;
      
      	// Inset created link
      	s.content[index].parentNode.insertBefore(linkWrap, s.content[index].nextSibling);
      
      	},
      
      	/**
      	* Handle Click
      	* Toggle Click eve
      	*/
      	handleClick(el) {
      	const readMoreLink = document.querySelectorAll('.read-more-link');
      
      	for (let j = 0, l = readMoreLink.length; j < l; j++) {
      
      		readMoreLink[j].addEventListener('click', function() {
      
      		const moreLinkID = this.getAttribute('id');
      		let index = moreLinkID.split('_')[1];
      
      		el[index].classList.toggle('is-expanded');
      
      		if (this.dataset.clicked !== 'true') {
      			el[index].innerHTML = s.originalContentArr[index];
      			this.innerHTML = s.lessLink;
      			this.dataset.clicked = true;
      		} else {
      			el[index].innerHTML = s.truncatedContentArr[index];
      			this.innerHTML = s.moreLink;
      			this.dataset.clicked = false;
      		}
      		});
      	}
      	},
      
      	/**
      	* Open All
      	* Method to expand all instances on the page.
      	* Will probably be useful with a destroy method.
      	*/
      	openAll() {
      	const instances = document.querySelectorAll('.read-more-link');
      		for (let i = 0; i < instances.length; i++) {
      		content[i].innerHTML = s.truncatedContentArr[i];
      		instances[i].innerHTML = s.moreLink;
      		}
      	}
      	}
      })();
      //export default ReadMore;
      ReadMore.init();
    </script>
  </body>
</html>